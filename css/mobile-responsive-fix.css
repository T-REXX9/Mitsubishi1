/**
 * Mobile Responsive Fix - Clean Approach
 * Following CSS Best Practices 2024
 * - Mobile-first methodology
 * - Minimal !important usage
 * - Flexible units
 * - Content-driven breakpoints
 */

/* ===== BASE FIXES (Mobile First) ===== */
html {
  box-sizing: border-box;
  overflow-x: hidden;
}

*, *::before, *::after {
  box-sizing: inherit;
}

body {
  overflow-x: hidden;
  margin: 0;
  padding: 0;
  zoom: 1;
}

/* Fix zoom issue from inline styles */
body[style*="zoom"] {
  zoom: 1 !important;
}

/* ===== FLEXIBLE CONTAINERS ===== */
.container,
.container-fluid,
.main-content,
.dashboard-grid,
.welcome-section {
  max-width: 100%;
  box-sizing: border-box;
}

/* ===== TEXT WRAPPING ===== */
h1, h2, h3, h4, h5, h6,
p, span, div, td, th, label {
  word-wrap: break-word;
  overflow-wrap: break-word;
}

/* ===== RESPONSIVE IMAGES ===== */
img, video, iframe {
  max-width: 100%;
  height: auto;
}

/* ===== MOBILE LAYOUT (up to 48em / ~768px) ===== */
@media (max-width: 48em) {
  .main-content {
    padding: 1rem;
  }
  
  .dashboard-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1rem;
  }
  
  .container,
  .container-fluid {
    padding-left: 1rem;
    padding-right: 1rem;
  }
  
  /* Tables stack on mobile */
  table {
    display: block;
    overflow-x: auto;
  }
}

/* ===== TABLET LAYOUT (48em to 62em / ~768px to ~992px) ===== */
@media (min-width: 48em) and (max-width: 62em) {
  .dashboard-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .main-content {
    padding: 1.5rem;
  }
}

/* ===== DESKTOP LAYOUT (above 62em / ~992px) ===== */
@media (min-width: 62em) {
  .dashboard-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

/* ===== TABLE RESPONSIVENESS ===== */
/* Make tables responsive and prevent text truncation */
@media (max-width: 991px) {
  table {
    width: 100% !important;
    max-width: 100% !important;
    display: block !important;
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
    border-collapse: collapse !important;
  }
  
  thead {
    display: block !important;
    width: 100% !important;
  }
  
  tbody {
    display: block !important;
    width: 100% !important;
  }
  
  tr {
    display: block !important;
    width: 100% !important;
    margin-bottom: 15px !important;
    border: 1px solid #ddd !important;
  }
  
  td, th {
    display: block !important;
    width: 100% !important;
    text-align: left !important;
    padding: 10px !important;
    word-wrap: break-word !important;
    white-space: normal !important;
  }
  
  th {
    background-color: #f5f5f5 !important;
    font-weight: bold !important;
  }
  
  /* Add labels to data cells */
  td::before {
    content: attr(data-label) !important;
    font-weight: bold !important;
    display: inline-block !important;
    margin-right: 10px !important;
  }
}

/* Alternative table fix - horizontal scroll with visible text */
@media (max-width: 991px) {
  .table-responsive,
  .table-container {
    width: 100% !important;
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }
  
  .table-responsive table,
  .table-container table {
    min-width: 100% !important;
    white-space: normal !important;
  }
  
  .table-responsive td,
  .table-responsive th,
  .table-container td,
  .table-container th {
    white-space: normal !important;
    word-wrap: break-word !important;
    min-width: 120px !important;
    max-width: 300px !important;
  }
}

/* ===== CARD AND COMPONENT FIXES ===== */
@media (max-width: 991px) {
  .card,
  .card-body,
  .card-header,
  .card-footer,
  [class*="card"] {
    width: 100% !important;
    max-width: 100% !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    overflow: visible !important;
  }
  
  /* Fix card text content */
  .card-body > *,
  .card-text,
  .card-description {
    max-width: 100% !important;
    word-wrap: break-word !important;
    white-space: normal !important;
  }
}

/* ===== GRID AND FLEX LAYOUTS ===== */
@media (max-width: 991px) {
  /* Fix grid layouts */
  .row,
  [class*="grid"],
  .dashboard-grid,
  .vehicle-grid,
  .product-grid {
    display: flex !important;
    flex-direction: column !important;
    width: 100% !important;
    gap: 15px !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
  }
  
  [class*="col-"] {
    width: 100% !important;
    max-width: 100% !important;
    flex: 0 0 100% !important;
    padding-left: 15px !important;
    padding-right: 15px !important;
  }
}

/* ===== FORM FIXES ===== */
@media (max-width: 991px) {
  form,
  .form-group,
  .form-row,
  .input-group {
    width: 100% !important;
    max-width: 100% !important;
  }
  
  input,
  select,
  textarea,
  .form-control {
    width: 100% !important;
    max-width: 100% !important;
    font-size: 16px !important; /* Prevent zoom on iOS */
    box-sizing: border-box !important;
  }
  
  /* Fix input groups */
  .input-group {
    flex-wrap: wrap !important;
  }
  
  .input-group > * {
    flex: 1 1 100% !important;
    max-width: 100% !important;
  }
}

/* ===== IMAGE AND MEDIA FIXES ===== */
img,
video,
iframe,
svg,
canvas {
  max-width: 100% !important;
  height: auto !important;
  display: block !important;
}

picture {
  display: block !important;
  max-width: 100% !important;
}

/* ===== BUTTON AND INTERACTIVE ELEMENT FIXES ===== */
@media (max-width: 991px) {
  button,
  .btn,
  input[type="button"],
  input[type="submit"],
  .button,
  [class*="btn-"] {
    width: auto !important;
    min-width: 44px !important;
    min-height: 44px !important;
    padding: 10px 20px !important;
    white-space: normal !important;
    word-wrap: break-word !important;
  }
  
  /* Full width buttons on mobile */
  .btn-block,
  .btn-full {
    width: 100% !important;
    display: block !important;
  }
}

/* ===== MODAL FIXES ===== */
@media (max-width: 991px) {
  .modal,
  .modal-dialog,
  .modal-content {
    width: 95% !important;
    max-width: 95% !important;
    margin: 20px auto !important;
  }
  
  .modal-body,
  .modal-header,
  .modal-footer {
    padding: 15px !important;
    word-wrap: break-word !important;
  }
  
  .modal-body > * {
    max-width: 100% !important;
  }
}

/* ===== SIDEBAR FIXES ===== */
@media (max-width: 991px) {
  .sidebar,
  [class*="sidebar"],
  .side-nav,
  .navigation {
    width: 100% !important;
    max-width: 100% !important;
    position: relative !important;
    height: auto !important;
  }
}

/* ===== DASHBOARD SPECIFIC FIXES ===== */
@media (max-width: 991px) {
  .dashboard-container,
  .dashboard-wrapper,
  .admin-panel {
    width: 100% !important;
    padding: 15px !important;
    overflow-x: hidden !important;
  }
  
  .dashboard-card,
  .stat-card,
  .info-card {
    width: 100% !important;
    margin-bottom: 15px !important;
  }
  
  .dashboard-table {
    font-size: 14px !important;
  }
}

/* ===== HEADER AND NAVIGATION FIXES ===== */
@media (max-width: 991px) {
  header,
  .header,
  .navbar {
    width: 100% !important;
    max-width: 100vw !important;
    overflow-x: hidden !important;
  }
  
  nav,
  .nav,
  .navigation {
    width: 100% !important;
    flex-direction: column !important;
  }
  
  nav a,
  .nav-link {
    display: block !important;
    width: 100% !important;
    padding: 12px 15px !important;
  }
}

/* ===== FOOTER FIXES ===== */
footer,
.footer {
  width: 100% !important;
  max-width: 100vw !important;
  overflow-x: hidden !important;
}

/* ===== INVENTORY PAGE SPECIFIC FIXES ===== */
@media (max-width: 991px) {
  .inventory-grid,
  .vehicle-list,
  .product-list {
    display: flex !important;
    flex-direction: column !important;
    gap: 15px !important;
  }
  
  .inventory-item,
  .vehicle-card,
  .product-card {
    width: 100% !important;
    margin-bottom: 15px !important;
  }
  
  .vehicle-details,
  .product-details {
    padding: 15px !important;
  }
  
  .vehicle-details p,
  .product-details p,
  .vehicle-specs,
  .product-specs {
    font-size: 14px !important;
    line-height: 1.6 !important;
    word-wrap: break-word !important;
  }
}

/* ===== BADGE AND LABEL FIXES ===== */
@media (max-width: 991px) {
  .badge,
  .label,
  .tag,
  [class*="badge-"],
  [class*="label-"] {
    display: inline-block !important;
    padding: 4px 8px !important;
    font-size: 12px !important;
    white-space: normal !important;
    word-wrap: break-word !important;
    max-width: 100% !important;
  }
}

/* ===== CHART AND GRAPH FIXES ===== */
@media (max-width: 991px) {
  canvas,
  .chart-container,
  .graph-container {
    width: 100% !important;
    max-width: 100% !important;
    height: auto !important;
  }
}

/* ===== ALERT AND NOTIFICATION FIXES ===== */
@media (max-width: 991px) {
  .alert,
  .notification,
  .message,
  [class*="alert-"] {
    width: 100% !important;
    max-width: 100% !important;
    margin: 10px 0 !important;
    padding: 15px !important;
    word-wrap: break-word !important;
  }
}

/* ===== DROPDOWN FIXES ===== */
@media (max-width: 991px) {
  .dropdown,
  .dropdown-menu,
  select {
    width: 100% !important;
    max-width: 100% !important;
  }
  
  .dropdown-menu {
    position: absolute !important;
    max-height: 300px !important;
    overflow-y: auto !important;
  }
}

/* ===== PAGINATION FIXES ===== */
@media (max-width: 991px) {
  .pagination,
  .pager {
    display: flex !important;
    flex-wrap: wrap !important;
    justify-content: center !important;
    gap: 5px !important;
  }
  
  .pagination li,
  .pagination a,
  .pager a {
    min-width: 40px !important;
    min-height: 40px !important;
    margin: 2px !important;
  }
}

/* ===== BREADCRUMB FIXES ===== */
@media (max-width: 991px) {
  .breadcrumb {
    flex-wrap: wrap !important;
    padding: 10px 15px !important;
    font-size: 14px !important;
  }
}

/* ===== TAB FIXES ===== */
@media (max-width: 991px) {
  .tabs,
  .tab-list,
  [role="tablist"] {
    overflow-x: auto !important;
    flex-wrap: nowrap !important;
    -webkit-overflow-scrolling: touch !important;
  }
  
  .tab,
  .tab-item,
  [role="tab"] {
    white-space: nowrap !important;
    flex-shrink: 0 !important;
  }
}

/* ===== ACCORDION FIXES ===== */
@media (max-width: 991px) {
  .accordion,
  .accordion-item {
    width: 100% !important;
  }
  
  .accordion-header,
  .accordion-body {
    padding: 15px !important;
    word-wrap: break-word !important;
  }
}

/* ===== LIST FIXES ===== */
@media (max-width: 991px) {
  ul, ol {
    padding-left: 20px !important;
  }
  
  li {
    word-wrap: break-word !important;
    margin-bottom: 8px !important;
  }
}

/* ===== SPECIAL ELEMENT FIXES ===== */
/* Fix elements that commonly cause horizontal scroll */
pre, code {
  max-width: 100% !important;
  overflow-x: auto !important;
  white-space: pre-wrap !important;
  word-wrap: break-word !important;
}

blockquote {
  max-width: 100% !important;
  margin: 15px 0 !important;
  padding: 15px !important;
  word-wrap: break-word !important;
}

/* ===== IPAD SPECIFIC FIXES ===== */
@media (min-width: 768px) and (max-width: 1024px) {
  /* iPad portrait and landscape */
  .container {
    max-width: 95% !important;
    margin: 0 auto !important;
  }
  
  .row {
    margin-left: -10px !important;
    margin-right: -10px !important;
  }
  
  [class*="col-"] {
    padding-left: 10px !important;
    padding-right: 10px !important;
  }
  
  /* Fix tables on iPad */
  table {
    font-size: 14px !important;
  }
  
  td, th {
    padding: 8px !important;
    white-space: normal !important;
    word-wrap: break-word !important;
  }
}

/* ===== UTILITY CLASSES ===== */
/* Add responsive utility classes */
.mobile-hide {
  display: none !important;
}

@media (min-width: 992px) {
  .mobile-hide {
    display: block !important;
  }
  
  .desktop-hide {
    display: none !important;
  }
}

.text-responsive {
  word-wrap: break-word !important;
  overflow-wrap: break-word !important;
  hyphens: auto !important;
}

.no-overflow {
  overflow: hidden !important;
}

.scroll-x {
  overflow-x: auto !important;
  -webkit-overflow-scrolling: touch !important;
}

/* ===== PRINT FIXES ===== */
@media print {
  body {
    width: 100% !important;
    overflow: visible !important;
  }
  
  * {
    overflow: visible !important;
  }
}

/* ===== WEBKIT SPECIFIC FIXES ===== */
/* Fix for Safari and Chrome on iOS */
@supports (-webkit-touch-callout: none) {
  body {
    -webkit-text-size-adjust: 100% !important;
  }
  
  input, select, textarea {
    font-size: 16px !important; /* Prevent zoom */
  }
}

/* ===== FIREFOX MOBILE FIXES ===== */
@-moz-document url-prefix() {
  body {
    -moz-text-size-adjust: 100% !important;
  }
}

/* ===== EDGE MOBILE FIXES ===== */
@supports (-ms-ime-align: auto) {
  body {
    -ms-text-size-adjust: 100% !important;
  }
}

/* ===== HIGH RESOLUTION SCREEN FIXES ===== */
@media only screen and (-webkit-min-device-pixel-ratio: 2),
       only screen and (min-resolution: 192dpi) {
  /* Retina display fixes */
  body {
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
  }
}

/* ===== LANDSCAPE ORIENTATION FIXES ===== */
@media (max-width: 991px) and (orientation: landscape) {
  body {
    min-height: 100vh !important;
  }
  
  .container {
    padding-top: 10px !important;
    padding-bottom: 10px !important;
  }
}

/* ===== ACCESSIBILITY IMPROVEMENTS ===== */
@media (max-width: 991px) {
  /* Improve touch targets */
  a, button, input, select, textarea {
    min-height: 44px !important;
  }
  
  /* Improve readability */
  body {
    font-size: 16px !important;
    line-height: 1.6 !important;
  }
}



/* ===== DEBUGGING HELPER (uncomment to visualize overflow) ===== */
/*
* {
  outline: 1px solid red !important;
}
body > * {
  outline: 2px solid blue !important;
}
*/
